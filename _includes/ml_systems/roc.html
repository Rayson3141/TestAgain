{% raw %}
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<div id="roc-curve"></div>
<script>
    // Sample data
    var fpr = [0., 0., 0., 0.00398406, 0.00398406,
        0.00796813, 0.00796813, 0.01195219, 0.01195219, 0.01593625,
        0.01593625, 0.01992032, 0.01992032, 0.02390438, 0.02390438,
        0.02788845, 0.02788845, 0.03585657, 0.03585657, 0.03984064,
        0.03984064, 0.0438247, 0.0438247, 0.04780876, 0.04780876,
        0.05179283, 0.05179283, 0.07171315, 0.07171315, 0.07968127,
        0.07968127, 0.09561753, 0.09561753, 0.10358566, 0.10358566,
        0.11155378, 0.11155378, 0.12350598, 0.12350598, 0.12749004,
        0.12749004, 0.14342629, 0.14342629, 0.16334661, 0.16334661,
        0.1752988, 0.1752988, 0.17928287, 0.17928287, 0.18326693,
        0.18326693, 0.19521912, 0.19521912, 0.20318725, 0.20318725,
        0.21912351, 0.21912351, 0.2310757, 0.2310757, 0.24701195,
        0.24701195, 0.25498008, 0.25498008, 0.27091633, 0.27091633,
        0.2749004, 0.2749004, 0.28286853, 0.28286853, 0.30278884,
        0.30278884, 0.39840637, 0.39840637, 0.41434263, 0.41434263,
        0.43426295, 0.43426295, 0.46215139, 0.46215139, 0.46613546,
        0.46613546, 0.49003984, 0.49003984, 0.52589641, 0.52589641,
        0.6374502, 0.6374502, 0.64143426, 0.64143426, 0.70517928,
        0.70517928, 0.78087649, 0.78087649, 0.82071713, 0.82071713,
        0.82868526, 0.82868526, 0.86055777, 0.86055777, 0.88844622,
        0.88844622, 0.94023904, 0.94023904, 0.97211155, 0.97211155,
        1.];
    var tpr = [0., 0.00401606, 0.44578313, 0.44578313, 0.51405622,
        0.51405622, 0.53413655, 0.53413655, 0.53815261, 0.53815261,
        0.5502008, 0.5502008, 0.60240964, 0.60240964, 0.61044177,
        0.61044177, 0.62248996, 0.62248996, 0.67871486, 0.67871486,
        0.7188755, 0.7188755, 0.72289157, 0.72289157, 0.72690763,
        0.72690763, 0.73092369, 0.73092369, 0.74698795, 0.74698795,
        0.75502008, 0.75502008, 0.75903614, 0.75903614, 0.77108434,
        0.77108434, 0.78714859, 0.78714859, 0.79919679, 0.79919679,
        0.80321285, 0.80321285, 0.80722892, 0.80722892, 0.82329317,
        0.82329317, 0.82730924, 0.82730924, 0.83534137, 0.83534137,
        0.83935743, 0.83935743, 0.84337349, 0.84337349, 0.84738956,
        0.84738956, 0.85943775, 0.85943775, 0.87550201, 0.87550201,
        0.88353414, 0.88353414, 0.89156627, 0.89156627, 0.89959839,
        0.89959839, 0.90361446, 0.90361446, 0.91164659, 0.91164659,
        0.91967871, 0.91967871, 0.92369478, 0.92369478, 0.93172691,
        0.93172691, 0.9437751, 0.9437751, 0.94779116, 0.94779116,
        0.95180723, 0.95180723, 0.95582329, 0.95582329, 0.95983936,
        0.95983936, 0.96385542, 0.96385542, 0.96787149, 0.96787149,
        0.97188755, 0.97188755, 0.97590361, 0.97590361, 0.97991968,
        0.97991968, 0.98393574, 0.98393574, 0.98795181, 0.98795181,
        0.99196787, 0.99196787, 0.99598394, 0.99598394, 1.,
        1.];

    // Calculate AUC
    var auc = 0;
    for (var i = 1; i < fpr.length; i++) {
        auc += (fpr[i] - fpr[i - 1]) * tpr[i];
    }
    auc = auc.toFixed(2);

    var data = [
        {
            x: fpr,
            y: tpr,
            fill: 'tozeroy',
            type: 'scatter',
            mode: 'lines',
            name: `Example Estimator (AUC=${auc})`,
            hoverinfo: 'x+y+name'
        },
        {
            x: [0, 1],
            y: [0, 1],
            mode: 'lines',
            line: {
                dash: 'dash',
                color: '#000000'
            },
            name: 'Random Estimator'
        },
        {
            x: [0, 0],
            y: [0, 1],
            mode: 'lines',
            line: {
                dash: 'dash',
                color: '#ff7f0e'
            },
            showlegend: false
        },
        {
            x: [0, 1],
            y: [1, 1],
            mode: 'lines',
            line: {
                dash: 'dash',
                color: '#ff7f0e'
            },
            name: 'Perfect Estimator'
        }
    ];

    var layout = {
        title: `ROC Curve`,
        xaxis: {
            title: 'False Positive Rate',
            scaleanchor: 'y',
            scaleratio: 1
        },
        yaxis: {
            title: 'True Positive Rate',
            constrain: 'domain'
        },
        width: 700,
        height: 500,
        showlegend: true
    };

    Plotly.newPlot('roc-curve', data, layout);
</script>

{% endraw %}